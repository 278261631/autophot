<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Packages available in the AutoPHoT pipeline &mdash; AutoPhOT  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tutorials" href="tutorials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Packages available in the AutoPHoT pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packages-aperture-module">packages.aperture module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-apply-airmass-extinction-module">packages.apply_airmass_extinction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.call_astrometry_net">packages.call_astrometry_net module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.call_catalog">packages.call_catalog module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.call_crayremoval">packages.call_crayremoval module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.call_datacheck">packages.call_datacheck module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-call-hotpants-module">packages.call_hotpants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-call-locationcheck-module">packages.call_locationcheck module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.call_yaml">packages.call_yaml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.check_tns">packages.check_tns module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.check_wcs">packages.check_wcs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-color-correction-module">packages.color_correction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.create_plots">packages.create_plots module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.find">packages.find module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.functions">packages.functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.get_template">packages.get_template module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.lightcurve">packages.lightcurve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.limit">packages.limit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.main">packages.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.psf">packages.psf module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.recover_output">packages.recover_output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-rm-bkg-module">packages.rm_bkg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages.run">packages.run module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packages-uncertain-module">packages.uncertain module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-packages">Module contents</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Astro-Sean/autophot">AutoPhot</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Astro-Sean/autophot/tree/master/example_notebooks">Notebooks</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AutoPhOT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Packages available in the AutoPHoT pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/packages.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="packages-available-in-the-autophot-pipeline">
<h1>Packages available in the AutoPHoT pipeline<a class="headerlink" href="#packages-available-in-the-autophot-pipeline" title="Permalink to this headline"></a></h1>
<div class="section" id="packages-aperture-module">
<h2>packages.aperture module<a class="headerlink" href="#packages-aperture-module" title="Permalink to this headline"></a></h2>
<p>s
.. automodule:: packages.aperture</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">members</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">undoc-members</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">show-inheritance</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="packages-apply-airmass-extinction-module">
<h2>packages.apply_airmass_extinction module<a class="headerlink" href="#packages-apply-airmass-extinction-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-packages.call_astrometry_net">
<span id="packages-call-astrometry-net-module"></span><h2>packages.call_astrometry_net module<a class="headerlink" href="#module-packages.call_astrometry_net" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.call_astrometry_net.AstrometryNetLOCAL">
<span class="sig-prename descclassname"><span class="pre">packages.call_astrometry_net.</span></span><span class="sig-name descname"><span class="pre">AstrometryNetLOCAL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NAXIS1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NAXIS2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve_field_exe_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_guess_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_pointing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpulimit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve_field_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_astrometry_net.AstrometryNetLOCAL" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>NAXIS1</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>NAXIS2</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>solve_field_exe_loc</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>pixel_scale</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>try_guess_wcs</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>ignore_pointing</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>target_ra</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>target_dec</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>search_radius</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 1</p></li>
<li><p><strong>downsample</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 2</p></li>
<li><p><strong>cpulimit</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 180</p></li>
<li><p><strong>solve_field_timeout</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 180</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – DESCRIPTION</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DESCRIPTION</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.call_catalog">
<span id="packages-call-catalog-module"></span><h2>packages.call_catalog module<a class="headerlink" href="#module-packages.call_catalog" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.call_catalog.match">
<span class="sig-prename descclassname"><span class="pre">packages.call_catalog.</span></span><span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chosen_catalog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_x_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_y_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_dmag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_sources_XY_R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_moffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_local_stars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_moff_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.765</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_moff_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat_lvl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">65536</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_fit_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_catalog_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitting_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'least_squares'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matching_source_FWHM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matching_source_FWHM_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_matching_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_IR_sequence_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_boundary_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_catalog_nondetections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_catalog.match" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.call_catalog.search">
<span class="sig-prename descclassname"><span class="pre">packages.call_catalog.</span></span><span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headinfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'apass'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_IR_sequence_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_custom_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_catalog.search" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>headinfo</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>target_coords</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>catalog_keywords</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>image_filter</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>radius</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 0.5</p></li>
<li><p><strong>wdir</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>catalog</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to ‘apass’</p></li>
<li><p><strong>include_IR_sequence_data</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>catalog_custom_fpath</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>target_name</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>target_ra</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>target_dec</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – DESCRIPTION</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DESCRIPTION</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.call_crayremoval">
<span id="packages-call-crayremoval-module"></span><h2>packages.call_crayremoval module<a class="headerlink" href="#module-packages.call_crayremoval" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.call_crayremoval.run_astroscrappy">
<span class="sig-prename descclassname"><span class="pre">packages.call_crayremoval.</span></span><span class="sig-name descname"><span class="pre">run_astroscrappy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_with_CRs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_astroscrappy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_lacosmic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_crayremoval.run_astroscrappy" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_with_CRs</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>gain</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 1</p></li>
<li><p><strong>use_astroscrappy</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to True</p></li>
<li><p><strong>use_lacosmic</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DESCRIPTION</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.call_datacheck">
<span id="packages-call-datacheck-module"></span><h2>packages.call_datacheck module<a class="headerlink" href="#module-packages.call_datacheck" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.call_datacheck.ask_for_keyword">
<span class="sig-prename descclassname"><span class="pre">packages.call_datacheck.</span></span><span class="sig-name descname"><span class="pre">ask_for_keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_datacheck.ask_for_keyword" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.call_datacheck.ask_question">
<span class="sig-prename descclassname"><span class="pre">packages.call_datacheck.</span></span><span class="sig-name descname"><span class="pre">ask_question</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_answer='n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expect_answer_type=&lt;class</span> <span class="pre">'str'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_type=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_word='skip'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_datacheck.ask_question" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.call_datacheck.checkteledata">
<span class="sig-prename descclassname"><span class="pre">packages.call_datacheck.</span></span><span class="sig-name descname"><span class="pre">checkteledata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_datacheck.checkteledata" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>autophot_input</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>flst</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>filepath</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DESCRIPTION</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.call_datacheck.find_similar_words">
<span class="sig-prename descclassname"><span class="pre">packages.call_datacheck.</span></span><span class="sig-name descname"><span class="pre">find_similar_words</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">words</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_word</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_datacheck.find_similar_words" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="packages-call-hotpants-module">
<h2>packages.call_hotpants module<a class="headerlink" href="#packages-call-hotpants-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="packages-call-locationcheck-module">
<h2>packages.call_locationcheck module<a class="headerlink" href="#packages-call-locationcheck-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-packages.call_yaml">
<span id="packages-call-yaml-module"></span><h2>packages.call_yaml module<a class="headerlink" href="#module-packages.call_yaml" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="packages.call_yaml.yaml_autophot_input">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">packages.call_yaml.</span></span><span class="sig-name descname"><span class="pre">yaml_autophot_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_yaml.yaml_autophot_input" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="packages.call_yaml.yaml_autophot_input.create_yaml">
<span class="sig-name descname"><span class="pre">create_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_yaml.yaml_autophot_input.create_yaml" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="packages.call_yaml.yaml_autophot_input.load_vars">
<span class="sig-name descname"><span class="pre">load_vars</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_yaml.yaml_autophot_input.load_vars" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="packages.call_yaml.yaml_autophot_input.update_var">
<span class="sig-name descname"><span class="pre">update_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inst_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.call_yaml.yaml_autophot_input.update_var" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-packages.check_tns">
<span id="packages-check-tns-module"></span><h2>packages.check_tns module<a class="headerlink" href="#module-packages.check_tns" title="Permalink to this headline"></a></h2>
<p>Created on Mon Jul  5 13:02:28 2021</p>
<p>&#64;author: seanbrennan</p>
<dl class="py function">
<dt class="sig sig-object py" id="packages.check_tns.format_to_json">
<span class="sig-prename descclassname"><span class="pre">packages.check_tns.</span></span><span class="sig-name descname"><span class="pre">format_to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.check_tns.format_to_json" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.check_tns.get_TNS_INFO">
<span class="sig-prename descclassname"><span class="pre">packages.check_tns.</span></span><span class="sig-name descname"><span class="pre">get_TNS_INFO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_ID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_NAME</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_API</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.check_tns.get_TNS_INFO" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.check_tns.get_coords">
<span class="sig-prename descclassname"><span class="pre">packages.check_tns.</span></span><span class="sig-name descname"><span class="pre">get_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_ID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_NAME</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TNS_BOT_API</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.check_tns.get_coords" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-packages.check_wcs">
<span id="packages-check-wcs-module"></span><h2>packages.check_wcs module<a class="headerlink" href="#module-packages.check_wcs" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.check_wcs.removewcs">
<span class="sig-prename descclassname"><span class="pre">packages.check_wcs.</span></span><span class="sig-name descname"><span class="pre">removewcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_fits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.check_wcs.removewcs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.check_wcs.updatewcs">
<span class="sig-prename descclassname"><span class="pre">packages.check_wcs.</span></span><span class="sig-name descname"><span class="pre">updatewcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_fits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wcs_fits</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.check_wcs.updatewcs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="packages-color-correction-module">
<h2>packages.color_correction module<a class="headerlink" href="#packages-color-correction-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-packages.create_plots">
<span id="packages-create-plots-module"></span><h2>packages.create_plots module<a class="headerlink" href="#module-packages.create_plots" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.create_plots.plot_PSF_model_steps">
<span class="sig-prename descclassname"><span class="pre">packages.create_plots.</span></span><span class="sig-name descname"><span class="pre">plot_PSF_model_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">it</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.create_plots.plot_PSF_model_steps" title="Permalink to this definition"></a></dt>
<dd><p>Plot out steps for PSF model for use in publication</p>
</dd></dl>

</div>
<div class="section" id="module-packages.find">
<span id="packages-find-module"></span><h2>packages.find module<a class="headerlink" href="#module-packages.find" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.find.combine">
<span class="sig-prename descclassname"><span class="pre">packages.find.</span></span><span class="sig-name descname"><span class="pre">combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dictionaries</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.find.combine" title="Permalink to this definition"></a></dt>
<dd><p>Combine list of dictionaies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dictionaries</strong> (<em>Dict</em>) – List of dictionaries</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Combined dictionary with values equal to a list of original dictionary values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.find.create_circular_mask">
<span class="sig-prename descclassname"><span class="pre">packages.find.</span></span><span class="sig-name descname"><span class="pre">create_circular_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.find.create_circular_mask" title="Permalink to this definition"></a></dt>
<dd><p>Create mask centered wihtin a image with height <em>h</em> and width <em>w</em> centered on <em>center</em> with a radius <em>radius</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>int</em>) – height of image</p></li>
<li><p><strong>w</strong> (<em>int</em>) – width of image</p></li>
<li><p><strong>center</strong> (<em>tuple with x</em><em>,</em><em>y position</em><em>, </em><em>optional</em>) – pixel location of mask, defaults to None</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – radius of mask in pixels, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image with shape h,w with masked regions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.find.get_fwhm">
<span class="sig-prename descclassname"><span class="pre">packages.find.</span></span><span class="sig-name descname"><span class="pre">get_fwhm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm_guess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_source_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_source_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fudge_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fine_fudge_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat_lvl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">65536</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lim_SNR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_multipler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmaclip_FWHM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmaclip_FWHM_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmaclip_median</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmaclip_median_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isolate_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isolate_sources_fwhm_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_iso_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_boundary_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_FWHM_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_analysis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_image_analysis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_image_analysis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_local_stars_for_FWHM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepare_templates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_moff_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.765</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_moff_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_fit_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitting_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'least_square'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_sources_XY_R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_moffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_x_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_y_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_lvl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.find.get_fwhm" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-packages.functions">
<span id="packages-functions-module"></span><h2>packages.functions module<a class="headerlink" href="#module-packages.functions" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.SNR">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">SNR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux_star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DC</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.SNR" title="Permalink to this definition"></a></dt>
<dd><p>S/N eqaution taken from <a class="reference external" href="https://www.ucolick.org/~bolte/AY257/s_n.pdf">here</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flux_star</strong> (<em>array-like</em>) – flux (counts per second) coming from source</p></li>
<li><p><strong>flux_sky</strong> (<em>array-like</em>) – flux (counts per second) associated with sky background</p></li>
<li><p><strong>exp_t</strong> (<em>float</em>) – Expsoure time in seconds</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius of aperture in pixels</p></li>
<li><p><strong>G</strong> (<em>float</em><em>, </em><em>optional</em>) – GAIN on CCD, defaults to 1</p></li>
<li><p><strong>RN</strong> (<em>float</em><em>, </em><em>optional</em>) – Readnoise of CCD, defaults to 0</p></li>
<li><p><strong>DC</strong> (<em>float</em><em>, </em><em>optional</em>) – Dark Current of CCD, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Signal to noise of given soures</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.SNR_err">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">SNR_err</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SNR</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.SNR_err" title="Permalink to this definition"></a></dt>
<dd><p>S/N eqaution and associated error taken from <a class="reference external" href="https://www.ucolick.org/~bolte/AY257/s_n.pdf">here</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>SNR</strong> (<em>array-like</em>) – Signal to noise ratio</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Error associated with SNR</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.arcmins2pixel">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">arcmins2pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_scale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.arcmins2pixel" title="Permalink to this definition"></a></dt>
<dd><p>Convert distance given in arcmins to distance in pixels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>array_like</em>) – linear distance in arcmins</p></li>
<li><p><strong>pixel_scale</strong> (<em>float</em>) – pixel scale of image in degrees</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>linear distance in pixels</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.array_correction">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">array_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.array_correction" title="Permalink to this definition"></a></dt>
<dd><p>Correct the float nature of pixel position used in numpy. 
If a pixel position is more than halfway accros a pixel roundup, else round down</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) – pixel position</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>corrected position</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.beta_value">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">beta_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_ul</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.beta_value" title="Permalink to this definition"></a></dt>
<dd><p>Detection probability from
<a class="reference external" href="http://web.ipac.caltech.edu/staff/fmasci/home/mystats/UpperLimits_FM2011.pdf">http://web.ipac.caltech.edu/staff/fmasci/home/mystats/UpperLimits_FM2011.pdf</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>float</em>) – Level above background to be considered a genuine detection</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – background standard deviation</p></li>
<li><p><strong>f_ul</strong> (<em>float</em>) – detected counts from measured photometry</p></li>
<li><p><strong>mean</strong> (<em>float</em><em>, </em><em>optional</em>) – Mean offset, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Beta prime value which describes the confidence to which a source can be consider real</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.border_msg">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">border_msg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.border_msg" title="Permalink to this definition"></a></dt>
<dd><p>Print a message to console surrounded by a border</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) – Message to display</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>displayed string with border</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>N/A</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.calc_mag">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">calc_mag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.calc_mag" title="Permalink to this definition"></a></dt>
<dd><p>Calculate magnitude of apoint source</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flux</strong> (<em>array-like</em>) – Flux in counts per second measured from source</p></li>
<li><p><strong>zp</strong> (<em>array-like</em>) – Zeropoint to place measurement on standard system</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Magnitude of source on standard system</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.error_log">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">error_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.error_log" title="Permalink to this definition"></a></dt>
<dd><p>Calculate error on value which is displyed in log form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>array-like</em>) – Value with associated error</p></li>
<li><p><strong>error</strong> (<em>array-like</em>) – Error assocaited with vlaue</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error in log form</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.f_ul">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">f_ul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.f_ul" title="Permalink to this definition"></a></dt>
<dd><p>Detection flux upper limit from
<a class="reference external" href="http://web.ipac.caltech.edu/staff/fmasci/home/mystats/UpperLimits_FM2011.pdf">http://web.ipac.caltech.edu/staff/fmasci/home/mystats/UpperLimits_FM2011.pdf</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>float</em>) – Equivalnt sigma detection limit e.g. 3sigma</p></li>
<li><p><strong>beta_p</strong> (<em>float</em>) – Detection Probability, should not be set to below 3 for practicality</p></li>
<li><p><strong>sigma</strong> (<em>flost</em>) – Standard deviation of background values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Flux upper limit with some probabilistic meaning</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.find_entry">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">find_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.find_entry" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.gauss_1d">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">gauss_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.gauss_1d" title="Permalink to this definition"></a></dt>
<dd><p>Returns 1 d gaussian function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – linear range of gaussian function</p></li>
<li><p><strong>A</strong> (<em>float</em>) – Amplitude of gaussian function</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – Center/maximum of gaussian function</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – sigma/width of gaussian function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns 1 dimention function with length equal to length of imput x array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.gauss_2d">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">gauss_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.gauss_2d" title="Permalink to this definition"></a></dt>
<dd><p>Returns 2D gaussian function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>2D numpy array</em>) – 2 dimentions grid to map Guassian on</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – x-center of gaussian funciton</p></li>
<li><p><strong>y0</strong> (<em>float</em>) – y-center of gaussian funciton</p></li>
<li><p><strong>sky</strong> (<em>float</em>) – sky/offset of gaussian function</p></li>
<li><p><strong>A</strong> (<em>float</em>) – Amplitude of gaussian function</p></li>
<li><p><strong>image_params</strong> (<em>dict</em>) – Dictionary containing the key “sigma” with corrosponding value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2D gaussian function with the same shape as image input</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.gauss_fwhm2sigma">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">gauss_fwhm2sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.gauss_fwhm2sigma" title="Permalink to this definition"></a></dt>
<dd><p>Convert fwhm to sigma value for gaussian funciton</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwhm</strong> (<em>float</em>) – full width half maximum</p></li>
<li><p><strong>image_params</strong> (<em>dict</em><em>, </em><em>optional</em>) – Not needed for this function, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sigma value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.gauss_sigma2fwhm">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">gauss_sigma2fwhm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.gauss_sigma2fwhm" title="Permalink to this definition"></a></dt>
<dd><p>Convert sigma value to full width half maximum for gaussian function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_params</strong> (<em>dict</em>) – Dictionary containing the key “sigma” with corrosponding value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Full width half maximum value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.get_distinct_colors">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">get_distinct_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.get_distinct_colors" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of n distinct colors
:param n: number of desired distinct colours
:type n: int
:return: List of rgb colours to be used in figure
:rtype: list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.getheader">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">getheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.getheader" title="Permalink to this definition"></a></dt>
<dd><p>Get fits image header. Find correcct telescope header info based on “Telescop” header key
if multiple headers are found, concatination into one large header file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Location of fits image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>header information</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.getimage">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">getimage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.getimage" title="Permalink to this definition"></a></dt>
<dd><p>Find a 2D image from a given file path. 
If image does not have correct shape i.e. 2 dimensional it will raise an error</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Filepath towards fits image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns 2D image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.moffat_2d">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">moffat_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.moffat_2d" title="Permalink to this definition"></a></dt>
<dd><p>Returns 2D moffat function
<a class="reference external" href="https://www.ltam.lu/physique/astronomy/projects/star_prof/star_prof.html">https://www.ltam.lu/physique/astronomy/projects/star_prof/star_prof.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>2D numpy array</em>) – 2 dimentions grid to map Moffat on</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – x-center of Moffat funciton</p></li>
<li><p><strong>y0</strong> (<em>float</em>) – y-center of Moffat funciton</p></li>
<li><p><strong>sky</strong> (<em>float</em>) – sky/offset of Moffat function</p></li>
<li><p><strong>A</strong> (<em>float</em>) – Amplitude of Moffat function</p></li>
<li><p><strong>image_params</strong> (<em>dict</em>) – Dictionary containing the keys “alpha” and “beta” with their corrosponding values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2D Moffat function with the same shape as image input</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.moffat_fwhm">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">moffat_fwhm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.moffat_fwhm" title="Permalink to this definition"></a></dt>
<dd><p>Get FWHM rom Mofat function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_params</strong> (<em>dict</em>) – Dictionary containing 2 keys: “alpha” corrosponding to fitting width of moffat function and ‘beta’ describing the wings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Full width half maximum</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.norm">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">norm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.norm" title="Permalink to this definition"></a></dt>
<dd><p>Normalise array to between 0 and 1 while ignoring nans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>array</strong> (<em>numpy  array</em>) – Array of values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Normalised array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy  array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.order_shift">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">order_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.order_shift" title="Permalink to this definition"></a></dt>
<dd><p>Get the order of magnitude of an array. Use to shift array to between 0-10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>numpy array</em>) – Array of values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Order of magnitude</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.pix_dist">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">pix_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.pix_dist" title="Permalink to this definition"></a></dt>
<dd><p>Find the linear distance between two sets of points (x1,y1) -&gt; (x2,y2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x1</strong> (<em>float</em>) – x position of point 1</p></li>
<li><p><strong>x2</strong> (<em>float</em>) – x position of point 2</p></li>
<li><p><strong>y1</strong> (<em>float</em>) – y position of point 1</p></li>
<li><p><strong>y2</strong> (<em>float</em>) – y position of point 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Distance between to points</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.pixel2arcsec">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">pixel2arcsec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_scale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.pixel2arcsec" title="Permalink to this definition"></a></dt>
<dd><p>Convert distance in pixel to distance in arcsecs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>array_like</em>) – linear distance in pixels</p></li>
<li><p><strong>pixel_scale</strong> (<em>float</em>) – pixel scale of image in degrees</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>linear distance in arsecs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.rebin">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_shape</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.rebin" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Rebin an array into a specific 2D shape</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>Numpy array</em>) – Array of values</p></li>
<li><p><strong>new_shape</strong> (<em>tuple</em>) – New shape with which to rebin array into</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rebinned array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.round_half">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">round_half</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.round_half" title="Permalink to this definition"></a></dt>
<dd><p>Round a number to half integer values i.ie +/-0.5</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>number</strong> (<em>array-like</em>) – Values to be rounded</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Values rounded to their nearest 0.5</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.scale_roll">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">scale_roll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.scale_roll" title="Permalink to this definition"></a></dt>
<dd><p>Used in building PSF function. when shiting and aligning residual tables this functions trnalets pixel shifts between different images cutouts
:param x: pixel position
:type x: gloat
:param xc: pixel position to which we want to move to
:type xc: float
:param m: scale multiplier
:type m: int
:return: DESCRIPTION
:rtype: TYPE</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.set_size">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">set_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.set_size" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Function to generate size of figures produced by AutoPhot</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>float</em>) – Width of figure in pts. 1pt == 1/72 inches</p></li>
<li><p><strong>aspect</strong> (<em>float</em>) – Aspect of image i.e. height  = width / golden ratio * aspect, default  = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns tuple of width,height in inches ready for use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.to_latex">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">to_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.to_latex" title="Permalink to this definition"></a></dt>
<dd><p>Produce output table in latex-ready format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>autophot_input</strong> (<em>dict</em>) – Autophot input dictionary</p></li>
<li><p><strong>peak</strong> (<em>float</em><em>, </em><em>optional</em>) – Reference eposh of transient to set Phase column, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Latex ready table saved to output folder</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>N/A</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.trim_zeros_slices">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">trim_zeros_slices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.trim_zeros_slices" title="Permalink to this definition"></a></dt>
<dd><p>Traim 2d array of horizontal or vertical rows completely filled with zeroes</p>
<p>Credit: <a class="reference external" href="https://stackoverflow.com/questions/55917328/numpy-trim-zeros-in-2d-or-3d">https://stackoverflow.com/questions/55917328/numpy-trim-zeros-in-2d-or-3d</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>array-like</em>) – 2D array-like with horizontal or vertical rows/columns filled with zeroes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d array which has been cleaned of zero columns and index map for original array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.weighted_avg_and_std">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">weighted_avg_and_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.weighted_avg_and_std" title="Permalink to this definition"></a></dt>
<dd><p>Return the average of an array of values with given weights</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>numpy array</em>) – array of values</p></li>
<li><p><strong>weights</strong> (<em>numpy array</em>) – weighs associated with values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>weighted average and varience</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.functions.weighted_median">
<span class="sig-prename descclassname"><span class="pre">packages.functions.</span></span><span class="sig-name descname"><span class="pre">weighted_median</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.functions.weighted_median" title="Permalink to this definition"></a></dt>
<dd><p>Return the weighted median of an array of values with given weights</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>numpy array</em>) – array of values</p></li>
<li><p><strong>weights</strong> (<em>numpy array</em>) – weighs associated with values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>weighted mean</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.get_template">
<span id="packages-get-template-module"></span><h2>packages.get_template module<a class="headerlink" href="#module-packages.get_template" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.get_template.get_pstars">
<span class="sig-prename descclassname"><span class="pre">packages.get_template.</span></span><span class="sig-name descname"><span class="pre">get_pstars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grizy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.get_template.get_pstars" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-packages.lightcurve">
<span id="packages-lightcurve-module"></span><h2>packages.lightcurve module<a class="headerlink" href="#module-packages.lightcurve" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.lightcurve.Vega2AB">
<span class="sig-prename descclassname"><span class="pre">packages.lightcurve.</span></span><span class="sig-name descname"><span class="pre">Vega2AB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AB2Vega</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.lightcurve.Vega2AB" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Convert VEGA to AB magnitude ( or vice versa ) from autophot output</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Pandas DataFrame</em>) – Dataframe containg calibrated photometric output from AutoPhot</p></li>
<li><p><strong>AB2Vega</strong> (<em>Bool</em><em>, </em><em>optional</em>) – Convert from AB to Vega magnitudes, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Appropiate corrected DataFrame</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.lightcurve.plot_lightcurve">
<span class="sig-prename descclassname"><span class="pre">packages.lightcurve.</span></span><span class="sig-name descname"><span class="pre">plot_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sn_peak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pick_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_error_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_colour_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_REBIN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_color_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vega2AB</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AB2vega</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.lightcurve.plot_lightcurve" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Rudimentary function to plot lightcurve from Autophot</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>autophot_input</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>sn_peak</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to None</p></li>
<li><p><strong>check_fwhm</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>fwhm_limit</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 1</p></li>
<li><p><strong>pick_filter</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to []</p></li>
<li><p><strong>filter_spacing</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 0.2</p></li>
<li><p><strong>error_lim</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 0.25</p></li>
<li><p><strong>max_error_lim</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to 1</p></li>
<li><p><strong>show_plot</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to True</p></li>
<li><p><strong>show_colour_shift</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>use_REBIN</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>show_color_only</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>ylim</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to []</p></li>
<li><p><strong>vega2AB</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
<li><p><strong>AB2vega</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DESCRIPTION</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.limit">
<span id="packages-limit-module"></span><h2>packages.limit module<a class="headerlink" href="#module-packages.limit" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.PointsInCircum">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">PointsInCircum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.PointsInCircum" title="Permalink to this definition"></a></dt>
<dd><p>Generate series of x,y coordinates a distance r from the center of the image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>Float</em>) – Distance from center of image</p></li>
<li><p><strong>shape</strong> (<em>Tuple</em>) – Image shape</p></li>
<li><p><strong>n</strong> (<em>Integer</em><em>, </em><em>optional</em>) – Number of points, defaults to 8</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of x,y coorindates placed around the center of the image  at angles 2*pi/n * i for each ith sources in the n sample size</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List of tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.flatten_dict">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">flatten_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.flatten_dict" title="Permalink to this definition"></a></dt>
<dd><p>Flatten nested dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>TYPE</em>) – DESCRIPTION</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DESCRIPTION</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.fractional_change">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">fractional_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_minus_1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.fractional_change" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.inject_sources">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">inject_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_cutouts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmag_guess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot_to_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.inject_sources" title="Permalink to this definition"></a></dt>
<dd><p>Artificial source injection within a given image to determine the maximum magnitude a source may have and not be detected to within a given signal to noise ratio (SNR)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>autophot_input</strong> (<em>dict</em>) – Option Dictionary for autophot</p></li>
<li><p><strong>image</strong> (<em>2D numpy array</em>) – Cutout around target position. Must be large enough to enclose PSF model.</p></li>
<li><p><strong>model</strong> (<em>Function</em><em>, </em><em>optional</em>) – Model to use for modeling sources. This will accept the PSF model created using psf.build,if None using a 2D analytical function, either Gaussian of Moffat, defaults to None</p></li>
<li><p><strong>r_table</strong> (<em>2D numpy array</em><em>, </em><em>optional</em>) – Residual table from PSF.build. Required to perform artificial source injection with PSF model, defaults to None</p></li>
<li><p><strong>plot_steps</strong> (<em>Boolean</em><em>, </em><em>optional</em>) – Return images of each step during source injection. Will save to folder named “limiting_gif” in output folder, defaults to False</p></li>
<li><p><strong>save_cutouts</strong> (<em>Boolean</em><em>, </em><em>optional</em>) – Plot an image of final source injected at limiting magnitude, defaults to False</p></li>
<li><p><strong>lmag_guess</strong> (<em>Float</em><em>, </em><em>optional</em>) – Initial guess at limiting magnitude. If None use value from ‘inject_source_mag’ in autophot_input dictionary, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Required autophot_input keywords for this package</dt>
<dd class="field-even"><ul class="simple">
<li><p>c_counts/r_counts (float): Check to make sure PSF successfully created. These param gives the number of counts under a normalised PSF model as well as within the residual table</p></li>
<li><p>exp_time (float): Exposure time in seconds</p></li>
<li><p>fwhm (float): Full width half maximum of image in pixels</p></li>
<li><p>use_moffat (boolean): Boolean on whether to use moffat (True) or Gaussian (False) in PSF model, default to False.</p></li>
<li><p>image_params (dict): this dictionary describes the analytical model usinged in the PSF model. If a gaussian function is used this dictionary should contain the key “sigma” and the corresponding value. If a moffat function is function this dictionary should contained ‘alpha’ and ‘beta’ values’. These values are found and updated the autophot_input in find.fwhm.</p></li>
<li><p>zp (float): Zeropoint of the image</p></li>
<li><p>gain (float): Gain of image in e/ADU</p></li>
<li><p>ap_size (float): Aperture size in pixels</p></li>
<li><p>lim_SNR (float): Signal to Noise detection criteria, default to 3</p></li>
<li><p>inject_source_recover_nsteps (int): Number of steps to take, default is 100</p></li>
<li><p>inject_source_recover_dmag (float): Large magnitude step, default is 0.25 mag</p></li>
<li><p>inject_source_recover_fine_dmag (float): fine magnitude step, default is 0.1 mag</p></li>
<li><p>inject_source_add_noise (boolean): Inject random noise with artificial source, default is True</p></li>
<li><p>inject_source_recover_dmag_redo (int): If poisson noise is added, how many times to re-inject the same source with random noise added, default is 3</p></li>
<li><p>inject_source_cutoff_sources (float, must be &lt;= 1): Percentage of sources needed to be ‘lost’/found’ to define the limiting magnitude, default is 0.8</p></li>
<li><p>write_dir (str): Working directory where plots will be saved</p></li>
<li><p>base (str): basename of file, used for saving plots</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>Exception</strong> – DESCRIPTION</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns Value for injected limiting magnitude and updated autophot_input file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple of limiting magnitude (float) and autophot_input file (dictionary)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.limiting_magnitude_prob">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">limiting_magnitude_prob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.limiting_magnitude_prob" title="Permalink to this definition"></a></dt>
<dd><p>Find the probable limiting magnitude arond a given tagrte location.
Methodlology discussed in  ‘F. Masci 2011 &lt;<a class="reference external" href="https://www.semanticscholar.org/paper/Computing-flux-upper-limits-for-non-detections-Masci/6c14bb440637fb6c6c3bad6ce42c2bca7383c735">https://www.semanticscholar.org/paper/Computing-flux-upper-limits-for-non-detections-Masci/6c14bb440637fb6c6c3bad6ce42c2bca7383c735</a>&gt;’__.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>autophot_input</strong> (<em>dict</em>) – AutoPhOT control dictionary</p></li>
<li><p><strong>image</strong> (<em>2D array</em>) – 2D image array of target location, typically given as an expanding cutout of the target lcoation</p></li>
<li><p><strong>model</strong> (<em>Model function</em>) – PSF model ,if available, if not a gaussian is used. Default = None</p></li>
<li><p><strong>r_table</strong> (<em>2D array</em>) – residual lookup table for build the PSF Default = None</p></li>
</ul>
</dd>
<dt class="field-even">Required autophot_input keywords for this package</dt>
<dd class="field-even"><ul class="simple">
<li><p>c_counts/r_counts (float): Check to make sure PSF successfully created. These param gives the number of counts under a normalised PSF model as well as within the residual table</p></li>
<li><p>exp_time (float): Exposure time in seconds</p></li>
<li><p>fwhm (float): Full width half maximum of image in pixels</p></li>
<li><p>use_moffat (boolean): Boolean on whether to use moffat (True) or Gaussian (False) in PSF model, default to False.</p></li>
<li><p>image_params (dict): this dictionary describes the analytical model usinged in the PSF model. If a gaussian function is used this dictionary should contain the key “sigma” and the corresponding value. If a moffat function is function this dictionary should contained ‘alpha’ and ‘beta’ values’. These values are found and updated the autophot_input in find.fwhm.</p></li>
<li><p>zp (float): Zeropoint of the image</p></li>
<li><p>gain (float): Gain of image in e/ADU</p></li>
<li><p>ap_size (float): Aperture size in pixels</p></li>
<li><p>lim_SNR (float): Signal to Noise detection criteria, default to 3 (sigma)</p></li>
<li><p>bkg_level (float): Sigma level of background noise, default to 3 (sigma)</p></li>
<li><p>probable_detection_limit (boolean): Use beta detection criteria rather than sigma limit</p></li>
<li><p>inject_source_random (boolean): Inject sources around the target location with the probable limiting magnitiude</p></li>
<li><p>inject_source_cutoff_sources (int): Number of random sources to add around the target</p></li>
<li><p>inject_source_on_target (boolean): Inject a source on target</p></li>
<li><p>inject_source_add_noise (boolean): Add some Possion noise to the artifically inject sources</p></li>
<li><p>write_dir (str): Working directory where plots will be saved.</p></li>
</ul>
</dd>
</dl>
<p>returns:
(tuple): tuple containing:</p>
<blockquote>
<div><p>mag_level: derived value for limting magnitude
autophot_input: updated AutoPhOT control dictionary</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.ranks">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">ranks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.ranks" title="Permalink to this definition"></a></dt>
<dd><p>Return the ranks of each element in an integer sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sample</strong> (<em>array-like</em>) – sample of intergers</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Return the ranks of each element in an integer sample</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sorted list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.limit.sample_with_minimum_distance">
<span class="sig-prename descclassname"><span class="pre">packages.limit.</span></span><span class="sig-name descname"><span class="pre">sample_with_minimum_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.limit.sample_with_minimum_distance" title="Permalink to this definition"></a></dt>
<dd><p>Sample of k elements from range(n), with a minimum distance d.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>tuple</em>) – range of  values</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of points</p></li>
<li><p><strong>d</strong> (<em>float</em>) – distance between each points</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples containing (x,y) location of points seperated by distance(d)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of tuples</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.main">
<span id="packages-main-module"></span><h2>packages.main module<a class="headerlink" href="#module-packages.main" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.main.main">
<span class="sig-prename descclassname"><span class="pre">packages.main.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.main.main" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_info</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>autophot_input</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
<li><p><strong>fpath</strong> (<em>TYPE</em>) – DESCRIPTION</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DESCRIPTION</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-packages.psf">
<span id="packages-psf-module"></span><h2>packages.psf module<a class="headerlink" href="#module-packages.psf" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.PSF_MODEL">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">PSF_MODEL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.PSF_MODEL" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Point Spread Function model for use in Autophot. This function is used in psf.fit and numerous limiting magnitude packages to effectively model point sources in an image.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xc</strong> (<em>float</em>) – x-pixel coordinate</p></li>
<li><p><strong>yc</strong> (<em>float</em>) – y-pixel coordinate</p></li>
<li><p><strong>sky</strong> (<em>numpy array</em>) – sky background offset</p></li>
<li><p><strong>H</strong> (<em>float</em>) – height/amplitude of PSF model</p></li>
<li><p><strong>r_table</strong> (<em>numpy array</em>) – residual table from psf.PSF_MODEL_table</p></li>
<li><p><strong>autophot_input</strong> (<em>dict</em><em>, </em><em>optional</em>) – AutoPhot Control dictionary, defaults to autophot_input</p></li>
</ul>
</dd>
</dl>
<p>Requires autophot_input keywords:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>use_moffat</strong> (<em>boolean</em>): Use a moffat function as the base analytical function for the PSf model</p></li>
<li><p><strong>image_params</strong> (<em>dict</em>): dictionary containing values of analytical function. if ‘use_moffat’ dictionary should contain ‘alpha’ and ‘beta’ keys and their values, else dictionary should contain ‘sigma’ and its value</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slice_scale</strong> (<em>int</em><em>, </em><em>optional</em>) – If defined, focus on center of image of size +/- slice , defaults to None</p></li>
<li><p><strong>pad_shape</strong> (<em>tuple</em><em>, </em><em>optional</em>) – If if PSF needs to be resized to larger image, given shape of larger image via this value , defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PSF model</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.build_r_table">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">build_r_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.build_r_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.compute_multilocation_err">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">compute_multilocation_err</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Hfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MODEL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.compute_multilocation_err" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.do">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">do</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">residual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.do" title="Permalink to this definition"></a></dt>
<dd><p>Function to perform PSF model measurment. converts height of PSF model to counts under the PSF within a defined aperature size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Pandas.DataFrame</em>) – dataframe contain amplitude and amplitude error (in counts) of PSF from <em>psf.fit</em> function</p></li>
<li><p><strong>residual</strong> (<em>np.array</em>) – 2D image of residual table</p></li>
<li><p><strong>autophot_input</strong> (<em>dict</em>) – AutoPhot control dictionary</p></li>
</ul>
</dd>
</dl>
<p>Required autophot_input keywords:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>use_moffat</strong> (<em>boolean</em>): Use a moffat function as the base analytical function for the PSf model</p></li>
<li><p><strong>image_params</strong> (<em>dict</em>): dictionary containing values of analytical function. if ‘use_moffat’ dictionary should contain ‘alpha’ and ‘beta’ keys and their values, else dictionary should contain ‘sigma’ and its value</p></li>
<li><p><strong>scale</strong> (<em>float</em>): size of cutout around a specific target position (image shape = [2*scale,2*scale])</p></li>
<li><p><strong>ap_size</strong> (<em>float</em>): Aperture size in pixels</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>FWHM</strong> (<em>float</em>) – Full Width Half Maximum of image used to set integration radius</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<em>pandas DataFrame</em>) Original DataFrame with <em>psf_counts</em> and <em>psf_counts_err</em> columns</p></li>
<li><p><strong>autophot_input</strong> (<em>dict</em>) Updated autophot_input file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.fit">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">residual_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_psf_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_background_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_subtraction_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_closeup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.fit" title="Permalink to this definition"></a></dt>
<dd><p>PSF fitting packages.</p>
<p>This package uses the PSF model created in psf.build to fit for every source in an image. Can return a plot of the subtracted image for the User 
:param image: 2D image of containg stars with which the user wishes the measure
:type image: numpy array
:param sources: DataFarme of sources containing location of sources
:type sources: pandas DataFrame
:param residual_table: PSF residual table from psf.build
:type residual_table: numpy array
:param autophot_input: Autophot control dictionary
:type autophot_input: dict</p>
<dl class="field-list simple">
<dt class="field-odd">Required autophot_input</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwhm</strong> (<em>float</em>): FWHM to use with PSF model. Must be the same FWHM used in building the PSF model</p></li>
<li><p><strong>regrid_size</strong> (<em>int</em>): rebin size for residual image shift</p></li>
<li><p><strong>use_moffat</strong> (<em>boolean</em>): Use a moffat function as the base analytical function for the PSf model</p></li>
<li><p><strong>image_params</strong> (<em>dict</em>): dictionary containing values of analytical function. if ‘use_moffat’ dictionary should contain ‘alpha’ and ‘beta’ keys and their values, else dictionary should contain ‘sigma’ and its value</p></li>
<li><p><strong>scale</strong> (<em>float</em>): size of cutout around a specific target position (image shape = [2*scale,2*scale])</p></li>
<li><p><strong>dx</strong>/<strong>dx</strong> (<em>float</em>/<em>float</em>): if hold_pos is False, allow PDF model to move by dx/dy during fitting</p></li>
<li><p><strong>remove_sat* (**boolean</strong>): if True, remove any sources brighter than the count level set using <em>sat_lvl</em></p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>return_psf_model</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, return the PSF model, defaults to False</p></li>
<li><p><strong>save_plot</strong> (<em>boolen</em><em>, </em><em>optional</em>) – Save plot of PSF subtraction, defaults to False</p></li>
<li><p><strong>show_plot</strong> (<em>boolen</em><em>, </em><em>optional</em>) – Show plot of PSF subtraction, defaults to False</p></li>
<li><p><strong>remove_background_val</strong> (<em>boolean</em><em>, </em><em>optional</em>) – if False, do not perform background subtraction to source proir to fitting PSF model, defaults to True</p></li>
<li><p><strong>hold_pos</strong> (<em>boolean</em><em>, </em><em>optional</em>) – if True, Force PSF to fit source at percise location given in “sources” dataframe. IF false, PSF model is allowed to fit with a pixel tolerence given by ‘dx’/’dy’ given in autophot_input, defaults to False</p></li>
<li><p><strong>return_fwhm</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true return the FWHM of the source proir to PSF fitting, defaults to False</p></li>
</ul>
</dd>
</dl>
<p>:param return_subtraction_image:If true, return and save an image of the PSF subtraction, defaults to False
:type return_subtraction_image: boolean, optional
:param no_print: If true, do not print any fitting information from this package, defaults to False
:type no_print: boolean, optional
:return:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>PSF_sources</strong> (<em>pandas DataFrame</em>): Dataframe containing output parameters from PSF fitting. Use with psf.do to compute instrumental magnitudes</p></li>
<li><p><strong>PSF_MODEL</strong>  (<em>function</em>): PSF model</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="packages.psf.sigma_clip_list_of_list">
<span class="sig-prename descclassname"><span class="pre">packages.psf.</span></span><span class="sig-name descname"><span class="pre">sigma_clip_list_of_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.psf.sigma_clip_list_of_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-packages.recover_output">
<span id="packages-recover-output-module"></span><h2>packages.recover_output module<a class="headerlink" href="#module-packages.recover_output" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.recover_output.recover">
<span class="sig-prename descclassname"><span class="pre">packages.recover_output.</span></span><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.recover_output.recover" title="Permalink to this definition"></a></dt>
<dd><p>Go through each subdirectory and look for image output file. By default this is set to out.csv.
Script will look for folders that contain a file ending with “.fits”,’.fit’ or ‘.fts’
Concatinate these files into a master CSV file called REDCUED.csv by default</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>autophot_input</strong> (<em>Dict
#. fname</em><em> (</em><em>str</em><em>)</em><em>: if selected</em><em>, </em><em>filepath to specific filename
#. fits_dir</em><em> (</em><em>str</em><em>)</em><em>: if selected</em><em>, </em><em>filepath to directory containg your images
#. outdir_name</em><em> (</em><em>str</em><em>, </em><em>optional</em><em>)</em><em>: name of ouput folder</em><em>, </em><em>default is 'REDUCED'
#. outcsv_name</em><em> (</em><em>str</em><em>, </em><em>optional</em><em>)</em><em>: name of ouput file contain photometric calibration data for each image</em><em>, </em><em>default is 'out.csv'</em>) – AutoPhot Control dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>CSV file contrinaing photometric calibrated data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>csv text file</p>
</dd>
</dl>
<p>TODO: Change such that it doesn’t add the same out.csv file multiple times due to looking for .fits files’
TODO: Change output file name calling</p>
</dd></dl>

</div>
<div class="section" id="packages-rm-bkg-module">
<h2>packages.rm_bkg module<a class="headerlink" href="#packages-rm-bkg-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-packages.run">
<span id="packages-run-module"></span><h2>packages.run module<a class="headerlink" href="#module-packages.run" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="packages.run.run_autophot">
<span class="sig-prename descclassname"><span class="pre">packages.run.</span></span><span class="sig-name descname"><span class="pre">run_autophot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autophot_input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#packages.run.run_autophot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="packages-uncertain-module">
<h2>packages.uncertain module<a class="headerlink" href="#packages-uncertain-module" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-packages">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-packages" title="Permalink to this headline"></a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorials.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Seán Brennan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>