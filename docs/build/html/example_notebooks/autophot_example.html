

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Operations for basic photometry using AutoPhOT &mdash; AutoPhOT  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Add a new telescope and instrument" href="call_database_example.html" />
    <link rel="prev" title="Tutorials" href="../tutorials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Operations for basic photometry using AutoPhOT</a></li>
<li class="toctree-l2"><a class="reference internal" href="call_database_example.html">Add a new telescope and instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_your_catalog_example.html">Add your own sequnce stars</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">packages package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AutoPhOT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../tutorials.html">Tutorials</a> &raquo;</li>
        
      <li>Operations for basic photometry using AutoPhOT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/example_notebooks/autophot_example.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Operations-for-basic-photometry-using-AutoPhOT">
<h1>Operations for basic photometry using AutoPhOT<a class="headerlink" href="#Operations-for-basic-photometry-using-AutoPhOT" title="Permalink to this headline">¶</a></h1>
<p>This notebook describes how to use the AutoPhOT code to perform photometry on a single transient. The code used here can be installed by running ‘conda install -c astro-sean autophot’ in a Python3 enviroment.</p>
<p>This notebook will use pre-packaged fits images for demonstration purposes. We will descirbe how to use your own data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">autophot</span>
</pre></div>
</div>
</div>
<p>AutoPhOT requires input instructions * Many of these are initial guesses and will be changed during image analysis</p>
<p>Items in <strong>bold</strong> are parameters in the syntax dictionary that can be updated.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Load default input yaml file</span>
<span class="kn">from</span> <span class="nn">autophot.prep_input</span> <span class="kn">import</span> <span class="n">load</span>
<span class="n">syntax</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Default input loaded in from:
/Users/seanbrennan/Documents/autophot_development/AutoPHoT_conda/autophot/autophot/databases/default_input.yml
</pre></div></div>
</div>
<p>We will now use a pre-packaged fits image for the purpose of demonstration. <strong>You can ignore/delete the following 2 cells if you are using your own data!</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Built in function to move some example data onto the users desktop</span>
<span class="kn">from</span> <span class="nn">autophot.example</span> <span class="kn">import</span> <span class="n">save_example_data</span>
<span class="n">fpath</span> <span class="o">=</span> <span class="n">save_example_data</span><span class="o">.</span><span class="n">save_fits_to_desktop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Successful copy of example.fits written to:
/Users/seanbrennan/Desktop/autophot_example/example.fits
</pre></div></div>
</div>
<p>Example fits file should now be available on your desktop in a folder called <em>autophot_example</em>.</p>
<p>We can now tell AutoPhoT that we want to work on this folder by updating <strong>fits_dir</strong>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Lets get the parent dictionary of this new example image</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">dirpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;We are looking for fits images in the folder: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dirpath</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
We are looking for fits images in the folder: /Users/seanbrennan/Desktop/autophot_example
</pre></div></div>
</div>
<p>If you are using your own data update dirpath to where you have your own fits images. AutoPhOT will look though (using os.walk) the folder searching for images that end with .fits,.fts or .fit</p>
<p>For example: dirpath = ‘/Users/ <em>username</em> /Desktop/SN1987A’</p>
<p>Now tell AutoPhot where to look for files by updating <strong>fits_dir</strong>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">syntax</span><span class="p">[</span><span class="s1">&#39;fits_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirpath</span>
</pre></div>
</div>
</div>
<h3 align="center"><p>AutoPhOT accounts for unique keywords found in different headers</p>
</h3><p>AutoPhOT will build a database of telescope information that is saved to the users local machine.</p>
<p><em>telescope.yml</em> will be created and keeps track of different file naming conventions e.g. Filter header keys, Gain key etc. This file is stored in <strong>wdir</strong>.</p>
<p>We will set this to the same directory as example.fits.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Setting work directory (wdir) to: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dirpath</span><span class="p">)</span>
<span class="c1"># set working directory</span>
<span class="n">syntax</span><span class="p">[</span><span class="s1">&#39;wdir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirpath</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Setting work directory (wdir) to: /Users/seanbrennan/Desktop/autophot_example
</pre></div></div>
</div>
<p>If you plan on reusing AutoPhOT on many different transients, it may be convenient to save the database to a more accesable location for example</p>
<p>syntax[‘wdir’] = /Users/ <em>yourusername</em> /Desktop/AutoPhoT_database</p>
<h3 align="center"><p>Catalog Selection</p>
</h3><p>The current version of the code needs additional information to get started:</p>
<ul class="simple">
<li><p>Catalog version:</p>
<ul>
<li><p>Currently available:</p>
<ul>
<li><p>Pan-STARRS,</p></li>
<li><p>APASS,</p></li>
<li><p>2MASS</p></li>
<li><p>Skymapper</p></li>
<li><p>SDSS</p></li>
</ul>
</li>
</ul>
</li>
<li><p>What transient you want to observe:</p>
<ul>
<li><p>Update <strong>target_name</strong> to check TNS</p></li>
<li><p><strong>target_ra/target_dec</strong> to observed specific source in the field</p></li>
</ul>
</li>
</ul>
<p>First we’ll look at the example fits files using some packages from autophot</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Options are skymapper, 2mass, pan_starrs, sdss, apass</span>
<span class="n">syntax</span><span class="p">[</span><span class="s1">&#39;catalog&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;skymapper&#39;</span>
</pre></div>
</div>
</div>
<h3 align="center"><p>Where are we looking?</p>
</h3><p>Need to tell AutoPhOT where to look. Target photometry has several options:</p>
<ul class="simple">
<li><p><strong>target_name</strong> give the TNS IAU name ignore SN/AT e.g. SN 1987A =&gt; 1987A</p></li>
<li><p><strong>target_ra</strong>/<strong>target_dec</strong> give ra/dec (in ICRS) in degrees (all coords in AutoPhOT use degrees)</p></li>
<li><p>leave both <strong>target_name</strong> and <strong>target_ra</strong>/<strong>target_dec</strong> blank (i.e. null  None) to perform calibration on image (astrometry, fwhm, zeropint etc) only</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Select a source</span>
<span class="n">ra</span> <span class="o">=</span> <span class="mf">114.070433</span>
<span class="n">dec</span> <span class="o">=</span> <span class="o">-</span><span class="mf">69.529716</span>

<span class="c1"># This source is not a transient although it is close to the center of the galaxy (NGC 2442)</span>
<span class="c1"># In this case this source isn&#39;t in TNS so we leave target_name as None and update target_ra and target_dec</span>

<span class="n">syntax</span><span class="p">[</span><span class="s1">&#39;target_ra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ra</span>
<span class="n">syntax</span><span class="p">[</span><span class="s1">&#39;target_dec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dec</span>

<span class="c1"># If we know the IAU name we can update target_name (leave out the prefix i.e. SN or AT)</span>
<span class="c1"># for example: syntax[&#39;target_name&#39;] = 1987A</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Performing photometry on source at ra/dec = </span><span class="si">%.6f</span><span class="s1">/</span><span class="si">%.6f</span><span class="s1">&#39;</span> <span class="o">%</span>  <span class="p">(</span><span class="n">ra</span><span class="p">,</span><span class="n">dec</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Performing photometry on source at ra/dec = 114.070433/-69.529716
</pre></div></div>
</div>
<p><strong>Checking SkyMapper catalog, source at 114.070433 -69.529716 has r = 17.401 +/- 0.01 mag</strong></p>
<h3 align="center"><p>Lets display the image (not required)</p>
</h3><p>This cell uses the <strong>fpath</strong> previously defined if you are using your own data ignore this cell</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">if</span> <span class="n">fpath</span><span class="p">:</span>
    <span class="c1"># autophot functions to find image data and header from fits files</span>
    <span class="kn">from</span> <span class="nn">autophot.packages.functions</span> <span class="kn">import</span> <span class="n">getimage</span>
    <span class="kn">from</span> <span class="nn">autophot.packages.functions</span> <span class="kn">import</span> <span class="n">getheader</span>

    <span class="c1"># image</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">getimage</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>

    <span class="c1"># header</span>
    <span class="n">header</span> <span class="o">=</span> <span class="n">getheader</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>


    <span class="c1"># We will plot out the image</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="kn">from</span> <span class="nn">astropy.visualization</span> <span class="kn">import</span> <span class="n">ImageNormalize</span><span class="p">,</span><span class="n">SquaredStretch</span><span class="p">,</span><span class="n">ZScaleInterval</span>

    <span class="c1"># Create an ImageNormalize object</span>
    <span class="n">vmin</span><span class="p">,</span><span class="n">vmax</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZScaleInterval</span><span class="p">(</span><span class="n">nsamples</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">))</span><span class="o">.</span><span class="n">get_limits</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span>
              <span class="n">vmin</span> <span class="o">=</span> <span class="n">vmin</span><span class="p">,</span>
              <span class="n">vmax</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">,</span>

              <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
              <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;Greys&#39;</span><span class="p">)</span>

    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    For purpose of this example WCS is already in header.</span>
<span class="sd">    AutoPhOT is able to call astrometry.net from a local instance although for this example we assume the user doesn&#39;t</span>
<span class="sd">    have astrometry installed</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">wcs</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">wcs</span><span class="o">.</span><span class="n">WCS</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>



    <span class="c1"># Choose a source in image</span>
    <span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">ra</span><span class="p">,</span><span class="n">dec</span> <span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">)</span>

    <span class="n">x_pix</span><span class="p">,</span><span class="n">y_pix</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">all_world2pix</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ra</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">dec</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x_pix</span><span class="p">,</span><span class="n">y_pix</span><span class="p">,</span><span class="n">marker</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">facecolor</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="n">edgecolor</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-01f02cd18e2e&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">if</span> fpath<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     <span class="ansi-red-fg"># autophot functions to find image data and header from fits files</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     <span class="ansi-green-fg">from</span> autophot<span class="ansi-blue-fg">.</span>packages<span class="ansi-blue-fg">.</span>functions <span class="ansi-green-fg">import</span> getimage
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">from</span> autophot<span class="ansi-blue-fg">.</span>packages<span class="ansi-blue-fg">.</span>functions <span class="ansi-green-fg">import</span> getheader
<span class="ansi-green-intense-fg ansi-bold">      5</span>

<span class="ansi-red-fg">NameError</span>: name &#39;fpath&#39; is not defined
</pre></div></div>
</div>
<h3 align="center"><p>Ready to go!</p>
</h3><p>Input is now ready to run!</p>
<p>For this demonstration, example.fits has trusted wcs already in the header. AutoPhOT will detect wcs keywords (CRVAL1, CRVAL2, etc) and skip over this step. If the user wants to force new astrometry, regardless of what is already written, set <strong>remove_wcs</strong> to True.</p>
<p><strong>AutoPHoT relies on a user side dictionary of telescope data.</strong></p>
<p>Before starting, AutoPhOT will run through all files and ensure all keywords are known. It will ask the user to clariy any non-standard keywords. This may take away from the automation side of things but such steps only need to be taken once and it allows smoother operations if working with many files. For the purpose of this example there is no need in input scale_type or scale_units as we will not be needed for input into astrometry.net so user can type <em>skip</em>. You’ll see that if you rerun the
script it won’t ask you for this parameters as it check the pre-existing keys beforehand.</p>
<p><strong>We recommend you familirise yourself with this example on how telescope.yml works see</strong><a class="reference external" href="https://github.com/Astro-Sean/autophot/blob/master/example_notebooks/example_call_database.ipynb">here</a></p>
<p>This script (<em>write_yaml.yml</em>) is still underdevelopment as it needs to be be broad enough to accept various file structures and thusly, might fail. We hope to minimise these failures but as a backup, one can manually update the <em>telescope.yml</em> file.</p>
<p>To allow for a batch of files to be run, terminated and restarted from the same instance we have <strong>restart</strong> keyword that is defaulted to True. Leaving this command on will ignore any files that have already been ran through by the code. (i.e. it will look for the out.csv file in the output folders)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">autophot.autophot</span> <span class="kn">import</span> <span class="n">run_automatic_autophot</span>

<span class="n">run_automatic_autophot</span><span class="p">(</span><span class="n">syntax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

    _       _       ___ _  _    _____
   /_\ _  _| |_ ___| _ \ || |__|_   _|
  / _ \ || |  _/ _ \  _/ __ / _ \| |
 /_/ \_\_,_|\__\___/_| |_||_\___/|_|

 ---------------------------------------
         AutoPhOT Beta
         S.J.Brennan et al. 2020 in prep
         Please provide feedback/bugs to:
         Email: sean.brennan2@ucdconnect.ie
---------------------------------------



AutoPhOT Version: 0.1.1
Checking internet connection...
Connected to internet

Directory of fits file: /Users/seanbrennan/Desktop/autophot_example

Restarting - checking for files already completed in:
/Users/seanbrennan/Desktop/autophot_example_REDUCED

Total Files: 1

Files already done: 0
- EXAMPLE_TELESCOPE

Adding new insturment: EXAMPLE_TELESCOPE

 *** Instrument Found ***
EXAMPLE_TELESCOPE -&gt; INSTRUME -&gt; EXAMPLE_INSTRUMENT
Simplified name [default: EXAMPLE_INSTRUMENT]: Example

Instrument pixel scale
Accepted scale units
Scale units [type skip to ignore]: skip

Similar gain keywords found
File: example.fits
Instrument Gain key [type skip to ignore]
[Telescope: EXAMPLE_TELESCOPE :: Inst: EXAMPLE_INSTRUMENT]: GAIB
Telscope data checked :: looking for filter information

Relevant filter keywords found:
File: example.fits

*** [Key - Value] ***
FIL_WHL1 - rp
Corrosponding FILTER Keyword
[Telescope: EXAMPLE_TELESCOPE :: Inst: INSTRUME]: FIL_WHL1
Corrosponding filter - rp
[Telescope: EXAMPLE_TELESCOPE :: Inst: EXAMPLE_INSTRUMENT]
[default: no_filter]: r

Checking: Filters

Files removed - Wrong Image Type: 0

Files removed - No/Wrong filter(s): 0
Filters not included: []


Files removed: 0

+-----------+
|File: 1 / 1|
+-----------+
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
File: example_APT.fits - PID: 48474
Start Time: 2021-02-19 13:05:39.031894
Telescope: EXAMPLE_TELESCOPE
Filter: r
MJD: 58849.000
Observation Date: 2020-01-01
Gain keyword not found - check telescope.yml - SETTING TO 1
Exposure time: 60s
Detecting/removing cosmic ray sources
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting Astroscrappy ... working ... this may take some time ... done
Exposure time: 60s :: Cosmic Ray Detections: 4048
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Cosmic rays removed - image updated
WCS found
Using Gaussian Profile for fitting
Number of sources before cleaning - [s = 100.0]: 521
Too many sources
Number of sources before cleaning - [s = 200.0]: 332
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
-Saturated source
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Isolated sources found [ 200 sigma ]: 295

Image FWHM: 4.617 +/- 0.153

sigma:1.961

sigma_err:0.064

Aperture correction: -0.094 +/- 0.009
Searching for viable sources
New target name: target_ra_114_dec_-70
Searching for new catalog: skymapper
Downloading from skymapper
Catalog length: 1426
Using Gaussian Profile for fitting
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Matching catalog source to image: 251 / 771
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Average pixel offset: 2.131
Using PSF Photometry
SNR: 7538 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 1 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 7510 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 2 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 7121 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 3 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 6599 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 4 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 6487 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 5 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 6303 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 6 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 6098 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 7 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 5735 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 8 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 5690 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 9 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 5676 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 10 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 5548 FWHM: 4.617
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 11 / 12
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
SNR: 5535 FWHM: 4.617
Image_radius [pix] : 8.541 +/- 0.110
FWHM of PSF model: 4.617
Approx PSF mag -10.133
Image cutout size: (14,14) (14,14)
Fitting PSF to 250 sources
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Residual table updated: 12 / 12
Fitting PSF to source: 249 / 250
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

r-band zeropoint: 22.974 +/- 0.033

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Fitting PSF to source: 250 / 250
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Approx. limiting magnitude: 17.863
Target photometry on original image
Fitting PSF to Target
Fitting PSF to 1 sources
Fitting gaussian to source to get FWHM
Target FWHM: 4.642
Image 1 / 1 saved
SNR = 67 - skipping limiting magnitude
Pixel Offset: 1.222

Target counts: 158.040 +/- 2.365
Target SNR: 66.830 +/- 0.016
Instrumental Magnitude: -5.497 +/- 0.016
Zeropoint: 22.974 +/- 0.033
Limiting Magnitude: skipped
Target Magnitude: 17.477 +/- 0.046

*** Transient well detected ***

Time Taken [ 48474 ]: 77s
Sucess: example_APT.fits :: PID 48474

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

---

Total failure : []

DONE
Recovering Output...
Data recovered :: Output File:
/Users/seanbrennan/Desktop/autophot_example_REDUCED/REDUCED.csv

Done - Time Taken: 104.7
</pre></div></div>
</div>
<h3 align="center"><p>Looking at the outputs!</p>
</h3><p>Output of AutoPhOT will be given in folder in the parent dictionary of the fits_folder, below we display some of the visual outputs</p>
<p>For example if the <strong>fits_dir</strong> is set to <em>/Users/seanbrennan/Desktop/autophot_example</em> the ouput folder will be <em>/Users/seanbrennan/Desktop/autophot_example_REDUCED</em></p>
<p><strong>The following is for illistrative purposes and is not needed for AutoPhOT</strong></p>
<p>Each image will have a <em>out.csv</em>. Once AutoPhOT has completed each file in a folder it will collect all these files into one file named <em>REDUCED.csv</em> in the output folder</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">output_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/Users/seanbrennan/Desktop/autophot_example_REDUCED/REDUCED.csv&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">output_data</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                                              0
fname         /Users/seanbrennan/Desktop/autophot_example_RE...
telescope                                               Example
TELESCOP                                      EXAMPLE_TELESCOPE
INSTRUME                                               INSTRUME
instrument                                   EXAMPLE_INSTRUMENT
mjd                                                     58849.0
lmag                                                        NaN
method                                                      psf
subtraction                                               False
xpix                                                1867.754125
ypix                                                1856.492447
r_inst                                                -5.496918
r_inst_err                                             0.032252
zp_r                                                  22.974274
zp_r_err                                                0.03323
r                                                     17.477356
r_err                                                  0.046308
SNR                                                    66.83037
time                                 2021-02-19 13:06:56.123487
fwhm                                                   4.616722
fwhm_err                                               0.153171
target_fwhm                                            4.641932
beta                                                          1
pixel_offset                                            1.22226
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/seanbrennan/anaconda2/envs/conda3/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Wand is used to display pdf images in jupyter notebooks - it is not needed for AutoPhoT</span>
<span class="kn">from</span> <span class="nn">wand.image</span> <span class="kn">import</span> <span class="n">Image</span> <span class="k">as</span> <span class="n">WImage</span>
<span class="n">PSF</span> <span class="o">=</span> <span class="n">WImage</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;/Users/seanbrennan/Desktop/autophot_example_REDUCED/example/target_psf_example_APT.pdf&quot;</span><span class="p">,</span>
             <span class="n">resolution</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">PSF</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/example_notebooks_autophot_example_27_0.png" src="../_images/example_notebooks_autophot_example_27_0.png" />
</div>
</div>
<p>Zeropint calibration from skymapper with some gentle sigma clipping</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ZP</span> <span class="o">=</span> <span class="n">WImage</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;/Users/seanbrennan/Desktop/autophot_example_REDUCED/example/zp_example_APT.pdf&quot;</span><span class="p">,</span>
            <span class="n">resolution</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">ZP</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/example_notebooks_autophot_example_29_0.png" src="../_images/example_notebooks_autophot_example_29_0.png" />
</div>
</div>
<p>Magnitude recovery from PSF fitting in comparision to values from skymapper. We see the magnitude from the catalog minus the magnitude from the PSF fitting is fitted well</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">MAG_LIM</span><span class="o">=</span> <span class="n">WImage</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;/Users/seanbrennan/Desktop/autophot_example_REDUCED/example/mag_lim_example_APT.pdf&quot;</span><span class="p">,</span>
                <span class="n">resolution</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">MAG_LIM</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/example_notebooks_autophot_example_31_0.png" src="../_images/example_notebooks_autophot_example_31_0.png" />
</div>
</div>
<p>Output image showing stars using for zeropoint (blue), PSF stars (Yellow) and tagrget (green)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">SOURCE_CHECK</span><span class="o">=</span> <span class="n">WImage</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;/Users/seanbrennan/Desktop/autophot_example_REDUCED/example/source_check_example_APT.pdf&quot;</span><span class="p">,</span>
                     <span class="n">resolution</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">SOURCE_CHECK</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/example_notebooks_autophot_example_33_0.png" src="../_images/example_notebooks_autophot_example_33_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="call_database_example.html" class="btn btn-neutral float-right" title="Add a new telescope and instrument" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../tutorials.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Seán Brennan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>